import{o as a,c as g,a as m,n as B,t as R,F as T,r as o,b as h,w as t,d as e,e as A,f as O,u as G,g as y,h as p,i as N,_ as j,j as z,k as W,l as F,m as H,p as k,q,E as M,s as U,v as J,T as K}from"./index.39c418b0.js";const P={__name:"Item",props:{icon:String,title:String},setup(n){return(l,i)=>(a(),g(T,null,[m("i",{class:B(n.icon)},null,2),m("span",null,R(n.title),1)],64))}},Q={key:0},X={__name:"SideItem",props:{route:Object,root:Boolean},setup(n){return(l,i)=>{var u,d;const s=o("el-menu-item"),v=o("SideItem",!0),_=o("el-sub-menu");return(u=n.route.meta)!=null&&u.hidden?O("",!0):(a(),g("div",Q,[((d=n.route.children)==null?void 0:d.length)===1&&n.route.children[0].meta.only?(a(),h(s,{key:0,index:n.route.children[0].path},{default:t(()=>[e(P,{icon:n.route.children[0].meta.icon,title:n.route.children[0].meta.title},null,8,["icon","title"])]),_:1},8,["index"])):!n.route.children||!n.root?(a(),h(s,{key:1,index:n.route.path},{default:t(()=>[e(P,{icon:n.route.meta.icon,title:n.route.meta.title},null,8,["icon","title"])]),_:1},8,["index"])):(a(),h(_,{key:2,index:n.route.path,"popper-class":"sub-menu-popup"},{title:t(()=>[e(P,{icon:n.route.meta.icon,title:n.route.meta.title},null,8,["icon","title"])]),default:t(()=>[(a(!0),g(T,null,A(n.route.children,f=>(a(),h(v,{key:f.path,route:f},null,8,["route"]))),128))]),_:1},8,["index"]))]))}}},Y=m("div",{class:"logo ellipsis-1"},"\u7BA1\u7406\u540E\u53F0",-1),Z={__name:"index",setup(n){const l=G(),i=y(()=>l.getters.routes),s=y(()=>l.getters.collapse);function v(){l.commit("app/TOGGLE_COLLAPSE")}return(_,u)=>{const d=o("el-menu"),f=o("el-scrollbar"),b=o("el-icon"),c=o("el-aside");return a(),h(c,{class:B(["aside",{collapse:p(s)}])},{default:t(()=>[Y,e(f,null,{default:t(()=>[e(d,{"default-active":_.$route.path,router:"",collapse:p(s)},{default:t(()=>[(a(!0),g(T,null,A(p(i),r=>(a(),h(X,{key:r.path,root:"",route:r},null,8,["route"]))),128))]),_:1},8,["default-active","collapse"])]),_:1}),m("div",{class:"bottom-btn flex-center c-p",onClick:v},[e(b,null,{default:t(()=>[(a(),h(N(p(s)?"ArrowRight":"ArrowLeft")))]),_:1})])]),_:1},8,["class"])}}};const ee={class:"tags-view flex-space-between"},te={__name:"TagsView",setup(n){const l=G(),i=z(),s=W(),v=F("reload"),_=y({get:()=>i.fullPath,set:c=>{s.push(c)}}),u=y(()=>l.getters.tagsView);function d(c){if(i.fullPath===c){const r=u.value.findIndex(C=>C.fullPath===c);r===0&&u.value.length>1?s.push(u.value[r+1].fullPath):r-1>=0?s.push(u.value[r-1].fullPath):s.push("/")}l.commit("tagsView/DEL_TAGS_VIEW",c)}function f(){l.commit("tagsView/DEL_OTHER_TAGS_VIEW",i.fullPath)}function b(){l.commit("tagsView/DEL_ALL_TAGS_VIEW"),s.push("/")}return(c,r)=>{const C=o("el-tab-pane"),S=o("el-tabs"),E=o("ArrowDown"),I=o("el-icon"),L=o("el-button"),V=o("el-dropdown-item"),$=o("el-dropdown-menu"),D=o("el-dropdown");return a(),g("div",ee,[e(S,{modelValue:p(_),"onUpdate:modelValue":r[0]||(r[0]=w=>H(_)?_.value=w:null),closable:"",type:"card",onTabRemove:d},{default:t(()=>[(a(!0),g(T,null,A(p(u),w=>(a(),h(C,{key:w.path,name:w.fullPath,label:w.meta.title},null,8,["name","label"]))),128))]),_:1},8,["modelValue"]),e(D,null,{dropdown:t(()=>[e($,null,{default:t(()=>[e(V,{onClick:f},{default:t(()=>[k(" \u5173\u95ED\u5176\u4ED6 ")]),_:1}),e(V,{onClick:b},{default:t(()=>[k(" \u5173\u95ED\u6240\u6709 ")]),_:1}),e(V,{onClick:p(v)},{default:t(()=>[k(" \u5237\u65B0 ")]),_:1},8,["onClick"])]),_:1})]),default:t(()=>[e(L,{type:"primary"},{default:t(()=>[k(" \u66F4\u591A "),e(I,{class:"el-icon--right"},{default:t(()=>[e(E)]),_:1})]),_:1})]),_:1})])}}};var oe=j(te,[["__scopeId","data-v-c37db8aa"]]);const ne={class:"header"},le={class:"top flex-space-between"},ae=m("div",{class:"top-left"},null,-1),ce={class:"top-right"},se=m("i",{class:"icon-zhuti top-right-item"},null,-1),re=["onClick"],ue={class:"el-dropdown-link"},ie={__name:"index",setup(n){const l=G(),i=W(),s=z(),v=y(()=>l.getters.user||{}),_=y(()=>l.getters.currentTheme),u=q("#409eff");function d(c){document.documentElement.style=`--el-color-primary: ${c}; --primary-color: ${c}`}function f(c){l.commit("app/SET_THEME",c)}async function b(){try{await M.confirm("\u786E\u5B9A\u8981\u9000\u51FA\u767B\u5F55\u5417?",{type:"warning"}),await l.dispatch("user/logout"),i.push({path:"/login",query:{redirect:s.fullPath}})}catch{}}return(c,r)=>{const C=o("el-color-picker"),S=o("Check"),E=o("el-icon"),I=o("el-popover"),L=o("el-avatar"),V=o("ArrowDown"),$=o("el-dropdown-item"),D=o("el-dropdown-menu"),w=o("el-dropdown");return a(),g("header",ne,[m("div",le,[ae,m("div",ce,[e(C,{modelValue:u.value,"onUpdate:modelValue":r[0]||(r[0]=x=>u.value=x),onChange:d},null,8,["modelValue"]),e(I,{placement:"bottom",trigger:"hover","popper-class":"choose-theme"},{reference:t(()=>[se]),default:t(()=>[m("ul",null,[(a(!0),g(T,null,A(p(l).getters.themes,x=>(a(),g("li",{key:x.name,class:B(["flex-center",{active:p(_)===x.value}]),onClick:de=>f(x.value)},[k(R(x.name)+" ",1),e(E,null,{default:t(()=>[e(S)]),_:1})],10,re))),128))])]),_:1}),e(L,{size:30,class:"top-right-item",src:p(v).avatar},null,8,["src"]),e(w,null,{dropdown:t(()=>[e(D,null,{default:t(()=>[e($,{onClick:r[1]||(r[1]=x=>c.$router.push("/info"))},{default:t(()=>[k(" \u4E2A\u4EBA\u4FE1\u606F ")]),_:1}),e($,{onClick:b,divided:""},{default:t(()=>[k(" \u9000\u51FA\u767B\u5F55 ")]),_:1})]),_:1})]),default:t(()=>[m("span",ue,[m("span",null,R(p(v).name),1),e(E,{class:"el-icon--right"},{default:t(()=>[e(V)]),_:1})])]),_:1})])]),e(oe)])}}};const _e={__name:"index",setup(n){const l=q(!0);U("reload",i);function i(){l.value=!1,J(()=>{l.value=!0})}return(s,v)=>{const _=o("router-view"),u=o("el-main"),d=o("el-container");return a(),h(d,null,{default:t(()=>[e(Z),e(d,{class:"flex-column"},{default:t(()=>[e(ie),e(u,null,{default:t(()=>[e(_,null,{default:t(({Component:f})=>[e(K,{name:"slide-right",mode:"out-in"},{default:t(()=>[l.value?(a(),h(N(f),{key:0})):O("",!0)]),_:2},1024)]),_:1})]),_:1})]),_:1})]),_:1})}}};var pe=j(_e,[["__scopeId","data-v-587360f4"]]);export{pe as default};
